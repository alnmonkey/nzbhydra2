<!--
  ~  (C) Copyright 2026 TheOtherP (theotherp@posteo.net)
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<div class="table-responsive" ng-if="savedSearches.length > 0">
  <table class="table">
    <thead>
    <tr>
      <th class="col-md-8">Query</th>
      <th class="col-md-4">Category</th>
      <th class="col-md-8">Additional parameters</th>
      <th class="col-md-2">Search</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="request in savedSearches">
      <td class="narrow-row">
        <span ng-class="{'history-title': request.title != null || (request.query == null && request.identifiers.length === 0 && request.season ==null && request.episode ==null)}">
          {{ formatQuery(request) }}
        </span>
      </td>
      <td class="narrow-row">{{ ::request.categoryName }}</td>
      <td class="narrow-row" ng-bind-html="formatAdditional(request)"></td>
      <td class="narrow-row">
        <a class="btn btn-default btn-xs" href="{{ buildSearchLink(request) }}" target="_self">Search</a>
      </td>
    </tr>
    </tbody>
  </table>
</div>

<div class="well" ng-if="savedSearches.length === 0">
  <p>You can save searches after making a search. Saved searches will show up here.</p>
</div>
